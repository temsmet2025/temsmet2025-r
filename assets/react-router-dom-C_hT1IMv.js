import{r as n,a as N}from"./react-JHr-MqlU.js";import{R as z}from"./react-dom-C6Bo96Xm.js";import{N as A,u as K,a as B,b as W,c as G,l as X,D as Y,d as q,R as J,e as Q,m as Z}from"./react-router-BJCuConr.js";import{c as $,b as ee,E as te,s as ne,d as U}from"./@remix-run-DOOJ9594.js";/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},C.apply(this,arguments)}function re(t,i){if(t==null)return{};var e={},a=Object.keys(t),r,o;for(o=0;o<a.length;o++)r=a[o],!(i.indexOf(r)>=0)&&(e[r]=t[r]);return e}function ie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ae(t,i){return t.button===0&&(!i||i==="_self")&&!ie(t)}const oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],se="6";try{window.__reactRouterVersion=se}catch{}function _e(t,i){return $({basename:void 0,future:C({},void 0,{v7_prependBasename:!0}),history:ee({window:void 0}),hydrationData:le(),routes:t,mapRouteProperties:Z,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function le(){var t;let i=(t=window)==null?void 0:t.__staticRouterHydrationData;return i&&i.errors&&(i=C({},i,{errors:ue(i.errors)})),i}function ue(t){if(!t)return null;let i=Object.entries(t),e={};for(let[a,r]of i)if(r&&r.__type==="RouteErrorResponse")e[a]=new te(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let u=new o(r.message);u.stack="",e[a]=u}catch{}}if(e[a]==null){let o=new Error(r.message);o.stack="",e[a]=o}}else e[a]=r;return e}const ce=n.createContext({isTransitioning:!1}),fe=n.createContext(new Map),de="startTransition",O=N[de],pe="flushSync",D=z[pe];function ve(t){O?O(t):t()}function b(t){D?D(t):t()}class he{constructor(){this.status="pending",this.promise=new Promise((i,e)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",i(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",e(a))}})}}function xe(t){let{fallbackElement:i,router:e,future:a}=t,[r,o]=n.useState(e.state),[u,h]=n.useState(),[f,s]=n.useState({isTransitioning:!1}),[c,m]=n.useState(),[d,T]=n.useState(),[w,x]=n.useState(),E=n.useRef(new Map),{v7_startTransition:P}=a||{},L=n.useCallback(l=>{P?ve(l):l()},[P]),p=n.useCallback((l,y)=>{let{deletedFetchers:v,flushSync:k,viewTransitionOpts:g}=y;v.forEach(S=>E.current.delete(S)),l.fetchers.forEach((S,M)=>{S.data!==void 0&&E.current.set(M,S.data)});let H=e.window==null||e.window.document==null||typeof e.window.document.startViewTransition!="function";if(!g||H){k?b(()=>o(l)):L(()=>o(l));return}if(k){b(()=>{d&&(c&&c.resolve(),d.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:g.currentLocation,nextLocation:g.nextLocation})});let S=e.window.document.startViewTransition(()=>{b(()=>o(l))});S.finished.finally(()=>{b(()=>{m(void 0),T(void 0),h(void 0),s({isTransitioning:!1})})}),b(()=>T(S));return}d?(c&&c.resolve(),d.skipTransition(),x({state:l,currentLocation:g.currentLocation,nextLocation:g.nextLocation})):(h(l),s({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}))},[e.window,d,c,E,L]);n.useLayoutEffect(()=>e.subscribe(p),[e,p]),n.useEffect(()=>{f.isTransitioning&&!f.flushSync&&m(new he)},[f]),n.useEffect(()=>{if(c&&u&&e.window){let l=u,y=c.promise,v=e.window.document.startViewTransition(async()=>{L(()=>o(l)),await y});v.finished.finally(()=>{m(void 0),T(void 0),h(void 0),s({isTransitioning:!1})}),T(v)}},[L,u,c,e.window]),n.useEffect(()=>{c&&u&&r.location.key===u.location.key&&c.resolve()},[c,d,r.location,u]),n.useEffect(()=>{!f.isTransitioning&&w&&(h(w.state),s({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[f.isTransitioning,w]),n.useEffect(()=>{},[]);let R=n.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:l=>e.navigate(l),push:(l,y,v)=>e.navigate(l,{state:y,preventScrollReset:v==null?void 0:v.preventScrollReset}),replace:(l,y,v)=>e.navigate(l,{replace:!0,state:y,preventScrollReset:v==null?void 0:v.preventScrollReset})}),[e]),_=e.basename||"/",I=n.useMemo(()=>({router:e,navigator:R,static:!1,basename:_}),[e,R,_]),j=n.useMemo(()=>({v7_relativeSplatPath:e.future.v7_relativeSplatPath}),[e.future.v7_relativeSplatPath]);return n.useEffect(()=>X(a,e.future),[a,e.future]),n.createElement(n.Fragment,null,n.createElement(Y.Provider,{value:I},n.createElement(q.Provider,{value:r},n.createElement(fe.Provider,{value:E.current},n.createElement(ce.Provider,{value:f},n.createElement(J,{basename:_,location:r.location,navigationType:r.historyAction,navigator:R,future:j},r.initialized||e.future.v7_partialHydration?n.createElement(me,{routes:e.routes,future:e.future,state:r}):i))))),null)}const me=n.memo(we);function we(t){let{routes:i,future:e,state:a}=t;return Q(i,void 0,a,e)}const Re=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=n.forwardRef(function(i,e){let{onClick:a,relative:r,reloadDocument:o,replace:u,state:h,target:f,to:s,preventScrollReset:c,viewTransition:m}=i,d=re(i,oe),{basename:T}=n.useContext(A),w,x=!1;if(typeof s=="string"&&ye.test(s)&&(w=s,Re))try{let p=new URL(window.location.href),R=s.startsWith("//")?new URL(p.protocol+s):new URL(s),_=ne(R.pathname,T);R.origin===p.origin&&_!=null?s=_+R.search+R.hash:x=!0}catch{}let E=K(s,{relative:r}),P=ge(s,{replace:u,state:h,target:f,preventScrollReset:c,relative:r,viewTransition:m});function L(p){a&&a(p),p.defaultPrevented||P(p)}return n.createElement("a",C({},d,{href:w||E,onClick:x||o?a:L,ref:e,target:f}))});var F;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F||(F={}));var V;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V||(V={}));function ge(t,i){let{target:e,replace:a,state:r,preventScrollReset:o,relative:u,viewTransition:h}=i===void 0?{}:i,f=B(),s=W(),c=G(t,{relative:u});return n.useCallback(m=>{if(ae(m,e)){m.preventDefault();let d=a!==void 0?a:U(s)===U(c);f(t,{replace:d,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[s,f,c,a,r,e,t,o,u,h])}export{be as L,xe as R,_e as c};
